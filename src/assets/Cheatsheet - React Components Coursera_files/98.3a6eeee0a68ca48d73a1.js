(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{FhzP:function(module,e,n){"use strict";n.r(e);var r=n("VkAN"),t=n.n(r),o=n("VbXa"),c=n.n(o),a=n("AeFk"),s=n("q1tI"),i=n("+eFp"),d=n.n(i),u=n("17x9"),l=n.n(u),p=n("8cuT"),f=n("sQ/U"),h=n("kgYC"),m=n("8Hdl"),R=n("7GkZ"),C=n("fw5G"),g=n.n(C),v=n("S+eF"),b=n.n(v),O=n("F/us"),j=n.n(O),k=n("mxbf"),y=n("TSOT"),P=Object(y.a)("/api/onDemandReferences.v1",{type:"rest"}),w=function hydrateResponse(e){return j()(e.elements).each((function(n){var r=n.content["org.coursera.ondemand.reference.AssetReferenceContent"].assetId,t=j()(e.linked["openCourseAssets.v1"]).where({id:r});t.length&&(n.content=t[0])}))},I=function getReference(e,n){var r=n.referenceShortId,t=n.courseId,o=e.getStore(k.a).getCachedReference(r);if(!o){var c=(new g.a).addQueryParam("courseId",t).addQueryParam("q","shortId").addQueryParam("shortId",r).addQueryParam("fields","name,shortId,slug,content").addQueryParam("includes","assets"),a=b()(P.get(c.toString())).then((function(n){var r=w(n);e.dispatch("LOAD_REFERENCE",r[0])}));return a.done(),a}e.dispatch("LOAD_REFERENCE",o)},S=n("pVnL"),T=n.n(S),L=n("eJMc"),E=n.n(L),M=n("TSYQ"),A=n.n(M),N=n("fAYU"),q=n("Ys1X"),D=n("+2ZD"),F=n("37kS"),x=n.n(F),Q=n("Owtz"),U,V=function LockedContentModal(e){var n=Object(h.a)();return Object(a.d)(Y,T()({},e,{theme:n}))},Y=function(e){function LockedContentModalContent(){return e.apply(this,arguments)||this}var n;return c()(LockedContentModalContent,e),LockedContentModalContent.prototype.render=function render(){var e=this.props,n=e.courseRootPath,r=e.theme,o=e.className,c=A()("rc-LockedContentModal","styleguide",o);return Object(a.d)("div",{className:c},Object(a.d)(D.a,{allowClose:!1,modalName:x()("This content is locked")},Object(a.d)(m.a,{variant:"h1",css:Object(a.c)(U||(U=t()(["\n              margin: ",";\n            "])),r.spacing(0,0,16,0))},x()("This content is locked.")),Object(a.d)(m.a,null,x()("You can access this content by enrolling in an active session of this course. To enroll or check active dates for upcoming sessions, visit the course description page.")),Object(a.d)("div",{className:"horizontal-box align-items-right wrap"},Object(a.d)(N.a,{to:Object(q.a)(n),component:E.a,variant:"standard",typographyVariant:"body1"},x()("View sessions")))))},LockedContentModalContent}(s.Component);Y.propTypes={className:l.a.string,courseRootPath:l.a.string,theme:l.a.object};var z=Object(p.a)(V,["CourseStore"],(function(e){var n;return{courseRootPath:e.CourseStore.getCourseRootPath()}})),G,J;function ThemeRenderProp(e){var n,r;return(0,e.children)({theme:Object(h.a)()})}var K=function(e){function CourseReferencesPage(n,r){var t;return(t=e.call(this,n,r)||this).componentWillReceiveProps=function(){t.getData()},t.getData=function(){var e=t.props.courseId,n=t.context.router.params;n.reference_id&&t.waitingForReferenceId!==n.reference_id&&(t.waitingForReferenceId=n.reference_id,t.context.executeAction(I,{courseId:e,referenceShortId:n.reference_id}))},t.getData(),t}c()(CourseReferencesPage,e);var n=CourseReferencesPage.prototype;return n.componentDidUpdate=function componentDidUpdate(e){var n,r,t;(null===(n=this.props)||void 0===n?void 0:null===(r=n.currentReference)||void 0===r?void 0:r.id)!==(null==e?void 0:null===(t=e.currentReference)||void 0===t?void 0:t.id)&&window.scrollTo(0,0)},n.renderLockedModal=function renderLockedModal(){return G||(G=Object(a.d)(d.a,{transitionName:"LockedContentModal",transitionAppear:!0,transitionEnterTimeout:500,transitionAppearTimeout:500,transitionLeaveTimeout:500},Object(a.d)(z,{key:"LockedContentModal"})))},n.render=function render(){var e=this,n=!f.a.isAuthenticatedUser()||!this.props.isEnrolled;if(this.props.currentReference)return Object(a.d)(ThemeRenderProp,null,(function(r){var o=r.theme;return Object(a.d)("section",{className:"rc-CourseReferencesPage"},n&&e.renderLockedModal(),Object(a.d)(m.a,{color:"body",variant:"h1semibold",css:Object(a.c)(J||(J=t()(["\n                  margin: ",";\n                "])),o.spacing(48,0,32,0))},e.props.currentReference.name),Object(a.d)(R.a,{key:e.props.currentReference.id,cml:e.props.currentReference.content,isCdsEnabled:!0}))}));return null},CourseReferencesPage}(s.Component);K.propTypes={currentReference:l.a.shape({id:l.a.string.isRequired,content:l.a.object.isRequired,name:l.a.string.isRequired,shortId:l.a.string.isRequired}),courseId:l.a.string.isRequired,isEnrolled:l.a.bool,theme:l.a.object},K.contextTypes={executeAction:l.a.func.isRequired,router:l.a.object.isRequired},K.defaultProps={currentReference:null};var X=e.default=Object(p.a)(K,["CourseStore","CourseReferencesStore","CourseMembershipStore"],(function(e){var n=e.CourseStore,r=e.CourseReferencesStore,t=e.CourseMembershipStore;return{currentReference:r.getCurrentReference(),isEnrolled:t.isEnrolled(),courseId:n.getCourseId()}}))},Owtz:function(module,exports,e){e("RCKG")},RCKG:function(module,exports,e){}}]);
//# sourceMappingURL=98.3a6eeee0a68ca48d73a1.js.map